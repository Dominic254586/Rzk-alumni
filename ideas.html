<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ideas & Opportunities - Riziki Alumni</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #fefefe;
      color: #2c3e50;
      padding: 20px;
    }header {
  background: linear-gradient(to right, #0047ab, #d32f2f);
  color: white;
  text-align: center;
  padding: 50px 20px;
}

h1 {
  font-size: 2.5em;
  margin-bottom: 10px;
}

.container {
  max-width: 1000px;
  margin: auto;
  padding: 30px 20px;
}

.section {
  margin-bottom: 40px;
}

.idea-box, .job-box {
  background: #f7f9fc;
  border-left: 6px solid #0047ab;
  padding: 20px;
  margin-bottom: 20px;
  border-radius: 10px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

h2 {
  color: #d32f2f;
}

.idea-box h3, .job-box h3 {
  margin: 0;
  color: #0047ab;
}

form {
  margin-top: 20px;
  padding: 20px;
  background-color: #fff;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

input, textarea, button {
  width: 100%;
  margin-top: 10px;
  padding: 10px;
  border-radius: 6px;
  border: 1px solid #ccc;
  font-size: 1em;
}

button {
  background-color: #0047ab;
  color: white;
  font-weight: bold;
  cursor: pointer;
}

button:hover {
  background-color: #d32f2f;
}

.response {
  margin-top: 10px;
  font-weight: bold;
}

  </style>
</head>
<body>
  <header>
    <h1>Ideas & Opportunities</h1>
    <p>Explore ways to grow, earn, and uplift our community</p>
  </header>  <div class="container">
    <!-- Business & Investment Ideas -->
    <div class="section">
      <h2>Money-Making Ideas</h2><div class="idea-box">
    <h3>Online Writing</h3>
    <p>Learn article writing, transcription, and blogging to earn from platforms like Upwork and Fiverr.</p>
  </div>

  <div class="idea-box">
    <h3>Investing in Safaricom Shares</h3>
    <p>Long-term dividends and value growth from Kenya's top telecom company. Start with little capital via mobile banking.</p>
  </div>

  <div class="idea-box">
    <h3>MMF (Money Market Fund)</h3>
    <p>Save and earn interest with funds like CIC or Sanlam MMFs. Secure, low-risk returns daily.</p>
  </div>
</div>

<!-- Job Vacancies -->
<div class="section">
  <h2>Job Board</h2>
  <div id="job-list">
    <div class="job-box">
      <h3>Cyber Assistant Needed</h3>
      <p>Location: Nakuru CBD. Basic computer skills required. Contact: 0712345678</p>
    </div>
  </div>

  <form id="job-form">
    <h3>Post a New Job</h3>
    <input type="text" id="job-title" placeholder="Job Title" required>
    <textarea id="job-desc" placeholder="Job Description, Location, Contact..." required></textarea>
    <button type="submit">Post Job</button>
    <p id="job-response" class="response"></p>
  </form>
</div>

<!-- Idea Contribution -->
<div class="section">
  <h2>Share Your Idea</h2>
  <div id="more-ideas"></div>
  <form id="idea-form">
    <input type="text" id="idea-name" placeholder="Your Name" required>
    <textarea id="idea-text" placeholder="Share your own money-making, job or community idea..." required></textarea>
    <button type="submit">Submit Idea</button>
    <p id="idea-response" class="response"></p>
  </form>
</div>

  </div>  <script>
    const supabase = supabase.createClient(
      'https://prdjrsmysdbnzvuckaro.supabase.co',
      'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InByZGpyc215c2Ribnp2dWNrYXJvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEwOTQyMDUsImV4cCI6MjA2NjY3MDIwNX0.jc3sjaFKwEfJOZajar6ti2-heZzefMhSx7BCZugyc-A'
    );

    async function loadIdeas() {
      const { data, error } = await supabase.from('community_ideas').select('*').order('created_at', { ascending: false });
      if (!error) {
        const moreIdeas = document.getElementById('more-ideas');
        data.forEach(item => {
          const div = document.createElement('div');
          div.className = 'idea-box';
          div.innerHTML = `<h3>${item.name}</h3><p>${item.text}</p>`;
          moreIdeas.appendChild(div);
        });
      }
    }

    loadIdeas();

    document.getElementById('idea-form').addEventListener('submit', async (e) => {
      e.preventDefault();
      const name = document.getElementById('idea-name').value;
      const text = document.getElementById('idea-text').value;
      const { error } = await supabase.from('community_ideas').insert([{ name, text }]);
      const res = document.getElementById('idea-response');
      res.textContent = error ? 'Failed to submit.' : 'Idea submitted!';
      res.style.color = error ? 'red' : 'green';
      if (!error) {
        document.getElementById('idea-form').reset();
        loadIdeas();
      }
    });

    document.getElementById('job-form').addEventListener('submit', async (e) => {
      e.preventDefault();
      const title = document.getElementById('job-title').value;
      const desc = document.getElementById('job-desc').value;
      const { error } = await supabase.from('jobs').insert([{ title, description: desc }]);
      const res = document.getElementById('job-response');
      res.textContent = error ? 'Failed to post job.' : 'Job posted successfully!';
      res.style.color = error ? 'red' : 'green';
      if (!error) {
        document.getElementById('job-form').reset();
      }
    });
  </script></body>
</html>